% 2022 University of Pennsylvania Ph.D. Dissertation LaTeX Template
% The template project is in beta and aims to fulfill University formatting requirements when one follows the instructions, resolves errors and warnings, and does not edit the style file or font size. Consult https://provost.upenn.edu/formatting-faqs for the most up-to-date requirements and policies.
%-------------------------------------------
% We welcome your feedback on the template https://upenn.libwizard.com/f/latexbetadissertationfeedback
%-------------------------------------------
% The template project is optimized for the LaTeX editor Overleaf and pdfLaTeX. Other LaTeX editing programs may require you to compile the document more than once. It is adapted from the Penn Biostat LaTeX Template modified from Dissertation Template for Wharton PhD Candidates in LaTeX. Portions of the text are reprinted or adapted with permission from Ratcliffe SJ. (2017) Penn Biostat LaTeX Template: PhD dissertation. https://dbe.med.upenn.edu/biostat-research/Dissertation_template

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[11pt]{report}
\usepackage{upennstyle} % You may add additional packages below this line. Overleaf will warn you if your packages conflict with the template packages. See Chapter 1 for more information.

%-------------------------------------------
% Citation and bibliography commands. Edit as needed.
\usepackage[square,numbers]{natbib}
\bibliographystyle{plainnat}
%-------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PLEASE FOLLOW THE INSTRUCTIONS IN THE CODE COMMENTS
% To uncomment a line of code, remove the % at the beginning of the line
% To comment out a line of code, add a % at the beginning of the line
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%% PRELIMINARY PAGES %%%%%
%-------------------------------------------
%%%% TITLE PAGE
% Edit the text between curly braces {} relevant to your dissertation.
\title{Testing by Dualization}
\author{Yishuai Li}
%\specialization{Field of Specialization} % If your are in the Romance Languages or the Managerial Science and Applied Economics graduate group, uncomment this line and edit the text between the {}. If you do, you will also need to edit lines 71 and 72.
\gradgroup{Computer and Information Science} % See https://provost.upenn.edu/phd-graduate-groups for names
\date{2022} % Enter four-digit year of deposit
\supervisor{Benjamin C. Pierce}
\supervisortitle{Professor of Computer and Information Science}
%\cosupervisor{Co-supervisor's Typed Name} % If applicable, uncomment this line and edit the text between the {}. If you do, you will also need to edit line 39. 
%\cosupervisortitle{Full Faculty Title and Affiliation} % If applicable, uncomment this line and edit the text between the {}. If you do, you will also need to edit line 38.
\gradchair{Mayur Naik, Professor of Computer and Information Science}
\committee{Steve Zdancewic, Professor of Computer and Information Science}
\committee{Mayur Naik, Professor of Computer and Information Science}
\committee{Boon Thau Loo, Professor of Computer and Information Science}
\committee{John Hughes, Professor of Computing Science, Chalmers University of Technology} % If applicable, comment out or duplicate this line to remove or add a committee member
%-------------------------------------------

%%%% OPTIONAL COPYRIGHT NOTICE
\authorlegal{Yishuai Li} % To opt out of copyrighting your dissertation, uncomment this line. If you do, you will also need to edit line 76.
%-------------------------------------------
\cclicense{Attribution-Share\-Alike 4.0 International (CC BY-SA 4.0)} % If applicable, uncomment this line and edit the text between the {}. If you do, you will also need to edit lines 51, 76, and 78.
%-------------------------------------------
\cclicenseurl{https://creativecommons.org/licenses/by-sa/4.0/} % If applicable, uncomment this line and edit the text between the {}. If you do, you will also need to edit lines 49, 76, and 78.
%-------------------------------------------

%%%% OPTIONAL DEDICATION
%\dedication{Write your dedication text in italics here.} % If not applicable, comment out this line to hide the optional dedication page. If you do, you will also need to edit line 82.
%-------------------------------------------

%%%% OPTIONAL ACKNOWLEDGEMENT
\acknowledgement{Write your acknowledgement text here.} % If not applicable, comment out this line to hide the optional acknowledgement page. If you do, you will also need to edit line 86.
%-------------------------------------------

%%%% ABSTRACT
\abstract{Write your abstract text here.} % Write your abstract between the {}
%-------------------------------------------

%%%% OPTIONAL PREFACE
%\preface{Write your preface text here.} % If applicable, uncomment this line and write your preface between the {}. If you do, you will also need to edit line 101.
%-------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% ASZ: My usual "make things look nice and behave well" block
%% \usepackage[utf8]{inputenc}
%% \usepackage{lmodern}
%% \usepackage{microtype}
%% \usepackage{accsupp}
%% \usepackage{etoolbox}
%% \usepackage{newunicodechar}
\usepackage[dvipsnames,svgnames,x11names]{xcolor}
\usepackage{xspace}
\usepackage{advdate}
\usepackage[iso]{datetime}
\newdateformat{httpdate}{\shortdayofweekname{\THEDAY}{\THEMONTH}{\THEYEAR},~\THEDAY~\shortmonthname[\THEMONTH]~\THEYEAR}

\usepackage{draft} % local
\newif\ifdraft\drafttrue
\newnote{lys}{BrickRed}
\newnote{bcp}{Chocolate}
\newnote{sz}{violet}
\newnote{ly}{orange}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}[chapter]

\addto\extrasamerican{%
  \renewcommand{\chapterautorefname}{Chapter}%
\renewcommand\sectionautorefname{Section}
\renewcommand\subsectionautorefname{Subsection}
%% \def\subsubsectionautorefname{Subsubsection}
\def\lstnumberautorefname{Line}
\def\lemmaautorefname{Lemma}
\def\definitionautorefname{Definition}
\renewcommand\equationautorefname{Hypothesis}
\renewcommand\itemautorefname{Rule}
}
\usepackage{textcomp,listings,lstparams,lstcoq,enumitem}
\lstdefinestyle{customcoq}{
  language=Coq,
  literate={<>}{$\ne$}1
  {->}{$\to$}1
  {<-}{$\gets$}1
  {=>}{$\Rightarrow$}1
  {|->}{$\mapsto$}1
  {fun}{$\lambda$}1
  {\\in}{$\in$}1
  {\\\/}{$\vee$}1
  {<>}{$\neq$}1
  {>>}{$\gg$}1
  {>>=}{$\gg\!=$}1
  {forall}{$\forall$}1
  {+'}{$\oplus$}1
  {sigma}{$\sigma$}1
}
\lstdefinestyle{json}{
  language=Coq
}
\lstdefinestyle{customc}{
  language=C,
  keywordstyle={\bfseries\codestyle\color{Keyword1Color}},
  showstringspaces=false,
  morekeywords={true,false,bool}
}
\newcommand{\http}{HTTP/1.1\xspace}
\newcommand{\inlinec}[1]{\lstinline[style=customc]{#1}}
\newcommand{\ilc}[1]{\lstinline[style=customcoq]{#1}}
\newcommand{\ilj}[1]{\lstinline[style=json]{#1}}
\lstnewenvironment{coq}{\lstset{style=customcoq}\linespread{1}}{}
\lstnewenvironment{cpp}{\lstset{style=customc}\linespread{1}}{}
\lstnewenvironment{json}{\lstset{style=json}\linespread{1}}{}
\lstset{escapechar=\%,style=customcoq}

\usepackage{mathtools}
%% https://tex.stackexchange.com/a/127018
%% \usepackage{etoolbox}
%% \expandafter\patchcmd\csname \string\lstinline\endcsname{%
%%   \leavevmode
%%   \bgroup
%% }{%
%%   \leavevmode
%%   \ifmmode\hbox\fi
%%   \bgroup
%% }{}{%
%%   \typeout{Patching of \string\lstinline\space failed!}%
%% }

\newcommand{\complies}[2]{\mathsf{comply}_{#1}~{#2}}
\newcommand{\ncomplies}[2]{\neg(\complies{#1}{#2})}
\newcommand{\valid}[2]{\mathsf{valid}_{#1}~{#2}}
\newcommand{\invalid}[2]{\neg(\valid{#1}{#2})}
\newcommand{\accepts}[2]{\mathsf{accept}_{#1}~{#2}}
\newcommand{\rejects}[2]{\neg(\accepts{#1}{#2})}
\newcommand{\rejSound}[2]{#1\;\mathsf{sound}_{#2}^\mathfrak{Rej}}
\newcommand{\rejComplete}[2]{#1\;\mathsf{complete}_{#2}^\mathfrak{Rej}}
\newcommand{\exhaustive}[2]{\mathsf{exhaustive}_{#1}~{#2}}
\newcommand{\triggers}[3]{#1\overset{#3}\longrightarrow_{#2}}
\newcommand{\behaves}[2]{\triggers{#1}{}{#2}}
\newcommand{\llet}{\mathsf{let}\;}
\newcommand{\iin}{\mathsf{in}\;}
\newcommand{\letin}[2]{\llet#1=#2\;\iin}
\newcommand{\option}{\mathsf{option}\;}
\newcommand{\Some}[1]{\mathsf{Some}\;#1}
\newcommand{\None}{\mathsf{None}}
\newcommand{\sigT}[2]{\{\exists#1,#2\}}
\newcommand{\existT}[3]{\mathsf{pack}\;#1=#2\;\mathsf{with}\;#3}
\newcommand{\sstep}{\mathsf{sstep}}
\newcommand{\vstep}{\mathsf{vstep}}
\newcommand{\Server}{\mathsf{Server}}
\newcommand{\Validator}{\mathsf{Validator}}
\newcommand{\stepServer}{\mathsf{stepServer}}
\newcommand{\stepValidator}{\mathsf{stepValidator}}
\newcommand{\lam}[2]{\lambda#1\Rightarrow#2}
\newcommand{\Set}{\mathsf{set}\;}
\newcommand{\List}{\mathsf{list}\;}
\newcommand{\nil}{\varepsilon}
\newcommand{\If}{\mathsf{if}\;}
\newcommand{\tthen}{\mathsf{then}\;}
\newcommand{\Then}{\;\tthen}
\newcommand{\eelse}{\mathsf{else}\;}
\newcommand{\Else}{\;\eelse}
\newcommand{\Unit}{()}
\newcommand{\Tt}{()}
\newcommand{\Nat}{\mathbb N}
\newcommand{\Int}{\mathbb Z}
\newcommand{\Bool}{\mathbb B}
\newcommand{\True}{\mathsf{true}}
\newcommand{\False}{\mathsf{false}}
\newcommand{\Is}{\;\mathsf{is}\;}
\newcommand{\Prog}{\mathsf{Prog}}
\newcommand{\Lang}{\textsf{QAC-Lang}}
\newcommand{\serverOf}{\mathsf{serverOf}}
\newcommand{\validatorOf}{\mathsf{validatorOf}}
\newcommand{\Return}{\mathsf{return}}
\newcommand{\Sexp}{\mathsf{SExp}}
\newcommand{\Mem}{\mathsf{mem}}
\newcommand{\Exec}{\mathsf{exec}}
\newcommand{\update}[3]{#1[#2\mapsto#3]}
\newcommand{\constraint}{\mathsf{constraint}}
\newcommand{\Fresh}{\mathsf{fresh}\;}
\newcommand{\solvable}{\mathsf{solvable}\;}
\newcommand{\Vexp}{\mathsf{VExp}}
\newcommand{\oop}{\;op\;}
\newcommand{\ccmp}{\;cmp\;}
\newcommand{\Var}{\mathsf{var}}
\newcommand{\Reflects}[2]{#1\sim #2}
\newcommand{\satisfy}[2]{#1\;\mathsf{satisfy}\;#2}
\newcommand{\Jref}[3]{#1.#2.#3}
\newcommand{\Jpath}{\mathsf{Jpath}}
\newcommand{\This}{\mathsf{this}}
\newcommand{\Number}{\#}
\newcommand{\At}{@}
\newcommand{\Write}{\mathsf{write}}
\newcommand{\Havoc}{\mathsf{havoc}}

%% ASZ: `amsbook` didn't style `\paragraph`s appropriately
%% \patchcmd{\paragraph}{\normalfont}{\itshape}
%%   {} % Success
%%   {\GenericError
%%      {} % Continuation for \MessageBreak (unused)
%%      {Could not redefine \string\paragraph\space to be italic}
%%      {(This is a hack in the preamble.)} % Where to look for more info?
%%      {I tried to replace \string\normalfont\space with \string\itshape, but I
%%       couldn't.}}

%% ASZ: Change the spacing in the list of figures – I don't know if you need
%% this or not
%% \makeatletter
%% \patchcmd{\l@figure}{1.5pc}{2.25pc}
%%   {} % Success
%%   {\GenericError
%%      {} % Continuation for \MessageBreak (unused)
%%      {Could not fix the spacing in the list of figures}
%%      {(This is a hack in the preamble.)} % Where to look for more info?
%%      {I tried to replace the 1.5pc figure number--figure description separation
%%       with a 2.25pc separation in \string\l@figure\space, but I couldn't.}}

%% ASZ: I like it when tables of contents know where they are
%% \patchcmd{\@starttoc}{\ifx\contentsname}{\iffalse}
%%   {} % Success
%%   {\GenericError
%%      {} % Continuation for \MessageBreak (unused)
%%      {Could not add a line to the table of contents for itself}
%%      {(This is a hack in the preamble.)} % Where to look for more info?
%%      {I tried to replace the check in \string\@starttoc\space that suppresses a
%%       table of contents entry for the table of contents, but I couldn't.}}

%% ASZ: The other half of the above
%% \patchcmd{\@starttoc}{\@tocwrite}{\phantomsection\@tocwrite}
%%   {} % Success
%%   {\GenericError
%%      {} % Continuation for \MessageBreak (unused)
%%      {Could not add link targets to the table of contents/front matter lists}
%%      {(This is a hack in the preamble.)} % Where to look for more info?
%%      {I tried to add \string\phantomsection\space to \string\@starttoc\space so
%%       that it would generate hyperlink targets, but I couldn't.}}
%% \makeatother

%% ASZ: Set the page layout correctly: 1.5" margins on the left, 1" margins
%% everywhere else, page numbers count
%% \usepackage{fullpage}
%% \usepackage[margin=1in,left=1.5in,includeheadfoot]{geometry}

%% ASZ: Make footnote numbers run continuously, rather than restart at the start
%% of every chapter; this is required by the formatting guidelines
%% \counterwithout*{footnote}{chapter}

%% https://tex.stackexchange.com/a/32210
\interfootnotelinepenalty=10000

\hyphenation{Quick-Check}

%% ASZ: I found these to be much clearer
%% \numberwithin{section}{chapter}
%% \numberwithin{figure}{chapter}
%% \numberwithin{equation}{chapter}
\numberwithin{definition}{chapter}

%% https://tex.stackexchange.com/a/2652
\makeatletter
\g@addto@macro\@floatboxreset\centering
\makeatother

\begin{document}
\maketitle % If you are in the Romance Languages or the Managerial Science and Applied Economics graduate group, comment out this line. If you do, you will also need to edit lines 33 and 72.
%\makespecializationtitle % If in the Romance Languages or the Managerial Science and Applied Economics graduate group, uncomment this line. If you do, you will also need to edit lines 33 and 71.
\setcounter{page}{2}

%%%% OPTIONAL COPYRIGHT NOTICE
%\makecopyright % If not applicable, comment out this line to hide the optional traditional copyright notice page. If you do, you will also need to edit line 47.
%-------------------------------------------
\makecreativecommons % If applicable, uncomment this line to insert the optional Creative Commons License copyright notice page. If you do, you will also need to edit lines 49, 51, and 76.
%-------------------------------------------

%%%% OPTIONAL DEDICATION PAGE
%\makededication % If not applicable, comment out this line to hide the optional dedication page. If you do, you will also need to edit line 55.
%-------------------------------------------

%%%% OPTIONAL ACKNOWLEDGEMENT PAGE
\makeacknowledgement % If not applicable, comment out this line to hide the optional acknowledgment page. If you do, you will also need to edit line 59.
%-------------------------------------------

\makeabstract
\tableofcontents

%%%% OPTIONAL LIST OF TABLES
%\clearpage \phantomsection \addcontentsline{toc}{chapter}{LIST OF TABLES} \listoftables % If not applicable, comment out this line to hide the optional List of Tables
%-------------------------------------------

%%%% OPTIONAL LIST OF ILLUSTRATIONS
%\clearpage \phantomsection \addcontentsline{toc}{chapter}{LIST OF ILLUSTRATIONS} \listoffigures % If not applicable, comment out this line to hide the optional List of Illustrations
%-------------------------------------------

%%%% OPTIONAL PREFACE
%\makepreface % If applicable, uncomment this line to insert the optional preface. If you do, you will also need to edit line 67.
%-------------------------------------------

%%%%% MAIN TEXT %%%%%
\begin{mainf} % The main body of your dissertation starts below this line 

\chpt{Introduction}
\label{chap:introduction}
\input{intro}

\chpt{Dualization Theory}
\label{chap:theory}
\input{theory}

\chpt{Testing in Practice}
\label{chap:practices}
\input{practice}

\chpt{Test Harness Design}
\label{chap:harness}
\input{harness}

\chpt{Evaluation}
\label{chap:eval}
\input{eval}

\chpt{Related Work}
\label{chap:related-work}
\input{related}

\chpt{Conclusion and Future Work}
\label{chap:discussion}
\input{discussion}

\end{mainf}

%%%%% BIBLIOGRAPHY %%%%%
%-------------------------------------------
\begin{bibliof}
%\nocite{*} % If applicable, uncomment this line to display all entries in the .bib file
\bibliography{bibliography}
\end{bibliof}
%-------------------------------------------
\end{document}
